<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InveMent | Login</title>

    <!-- webix -->
    <link rel="stylesheet" href="https://cdn.webix.com/edge/webix.css" type="text/css">
    <script src="https://cdn.webix.com/edge/webix.js" type="text/javascript"></script>
    
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <!-- mycss -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
</head>
<body>
    <!-- menampilkan pesan gagal dari main.py ketika login -->
    {% if error %}
        <script>
            webix.message('{{ error }}');
        </script>
    {% endif %}

    <script>
        webix.ui({
            cols:[
                {},
                { 
                    rows:[
                        {},
                        { view:"label", label:"<span class='fs-1 text-white fw-bold'>LOGIN</span>", autoheight:true, align:"center"},
                        {height:30},
                        {
                            view:"form", 
                            css:"round", //border form round
                            id:"login_form",
                            padding:35, //jarak atas bawah kanan kiri layout
                            margin:15, //jarak antara child
                            width:350,
                            elements:[
                                { view:"label", label:"<i class='fa-solid fa-user logo-user'></i>", align:"center", height:60 },
                                { height:10, css:"bot-border"},
                                { view:"text", label:"Username", name:"username" },
                                { view:"text", type:"password", label:"Password", name:"pass" },
                                { view:"button", value:"Login", css:"webix_primary", click:"login", hotkey:"enter" },
                            ],
                        },
                        {}
                    ],
                },
                {}
            ]
        });


        function login(){
            webix.send("/login", $$("login_form").getValues(), "POST");
        }
    </script>
</body>
</html>